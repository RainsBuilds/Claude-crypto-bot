def get_recent_decisions(self, limit: int = 10) -> List[Dict]:
        """Get recent decisions from database"""
        conn = sqlite3.connect('trading_bot.db')
        cursor = conn.cursor()
        
        cursor.execute('''
            SELECT timestamp, action, symbol, amount, reasoning, confidence, executed
            FROM decisions 
            ORDER BY timestamp DESC 
            LIMIT ?
        ''', (limit,))
        
        decisions = []
        for row in cursor.fetchall():
            decisions.append({
                'timestamp': row[0],
                'action': row[1],
                'symbol': row[2],
                'amount': row[3],
                'reasoning': row[4],
                'confidence': row[5],
                'executed': bool(row[6])
            })
        
        conn.close()
        return decisions
        
    def record_trade(self, decision: Dict, current_prices: Dict):
        """Record trade in database"""
        conn = sqlite3.connect('trading_bot.db')
        cursor = conn.cursor()
        
        price = current_prices.get(decision['symbol'].split('/')[0], {}).get('price', 0)
        
        cursor.execute('''
            INSERT INTO trades (timestamp, symbol, side, amount, price, reasoning)
            VALUES (?, ?, ?, ?, ?, ?)
        ''', (
            datetime.now().isoformat(),
            decision['symbol'],
            decision['action'],
            decision['amount'],
            price,
            decision['reasoning']
        ))
        
        conn.commit()
        conn.close()
